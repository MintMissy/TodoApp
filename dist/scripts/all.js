class CardInfoIcons{static description='<span class="c-card-info-icons__icon material-icons">subject</span>';static todo='<span class="c-card-info-icons__icon material-icons">done</span>';static schedule='<span class="c-card-info-icons__icon material-icons">schedule</span>'}class LabelsList{static labelTemplate="";constructor(e=[]){this.labels=e}addLabel=e=>this.labels.append(e);removeLabel=e=>this.labels.splice(e,e)}class OpenedCard{static openedCardContainer=document.querySelector(".l-edited-card");static cardInput;static titleInput=document.getElementById("c-edited-card__input-title");static descriptionInput=document.getElementById("c-edited-card__input-description");static cardIconInput=document.getElementById("c-edited-card__input-icon");static iconsDropdown=document.getElementById("c-icons-dropdown");static pickableIconsContainer=document.getElementById("c-icons_to_pick");static taskList;static tasksInputs=[];static currentCardElement;static currentCardObject;static changedCardData;static navMenusEls=document.getElementById("edited-card__pickable-menus").children;static currentNavMenu=OpenedCard.navMenusEls[0];static currentNavMenuIndex=0;static currentCardLocations={parentTodoInTodos:void 0,cardInTodo:void 0};static openCard(e){OpenedCard.currentCardElement=e,OpenedCard.localizeCardInApp(),OpenedCard.setCardDataObjects(),OpenedCard.loadCardData(this.currentCardObject.data),OpenedCard.openedCardContainer.style.display="block",OpenedCard.currentNavMenuIndex=0,OpenedCard.openNavMenu(OpenedCard.currentNavMenuIndex)}static closeCard(){OpenedCard.openedCardContainer.style.display="none",OpenedCard.unloadCardData(),OpenedCard.currentNavMenu.style.display="none",OpenedCard.currentNavMenuIndex=0,OpenedCard.currentNavMenu=OpenedCard.navMenusEls[0]}static setCardDataObjects(){OpenedCard.currentCardObject=Todos.todosList[OpenedCard.currentCardLocations.parentTodoInTodos].todoCards[OpenedCard.currentCardLocations.cardInTodo],this.changedCardData=JSON.parse(JSON.stringify(this.currentCardObject.data))}static localizeCardInApp(){OpenedCard.currentCardLocations.parentTodoInTodos=Todos.todosList.indexOf(OpenedCard.currentCardElement.parentTodo),OpenedCard.currentCardLocations.cardInTodo=Todos.todosList[this.currentCardLocations.parentTodoInTodos].todoCards.indexOf(OpenedCard.currentCardElement)}static saveChanges(){OpenedCard.closeCard(),OpenedCard.currentCardObject.data=JSON.parse(JSON.stringify(OpenedCard.changedCardData)),OpenedCard.currentCardObject.reloadCard()}static removeCurrentCard(){Todos.todosList[OpenedCard.currentCardLocations.parentTodoInTodos].removeCard(OpenedCard.currentCardLocations.cardInTodo),OpenedCard.closeCard()}static loadCardData(e){OpenedCard.loadCardTitle(e.title),OpenedCard.loadCardDescription(e.description),OpenedCard.loadCardIcon(e.iconName)}static unloadCardData(){OpenedCard.titleInput.value="",OpenedCard.descriptionInput.value=""}static loadCardIcon(e){OpenedCard.cardIconInput.innerText=""===e?"add":e}static loadCardTitle(e){OpenedCard.titleInput.value=e}static loadCardLabels(){}static loadCardMembers(){}static loadCardDescription(e){OpenedCard.descriptionInput.value=e}static loadCardTaskList(){}static toggleIconDropdown(){"block"==OpenedCard.iconsDropdown.style.display?OpenedCard.iconsDropdown.style.display="none":OpenedCard.iconsDropdown.style.display="block"}static registerListeners(){OpenedCard.titleInput.addEventListener("keyup",(()=>{OpenedCard.changedCardData.title=OpenedCard.titleInput.value})),OpenedCard.descriptionInput.addEventListener("keyup",(()=>{OpenedCard.changedCardData.description=OpenedCard.descriptionInput.value}))}static setNewCardIcon(e){OpenedCard.cardIconInput.innerText=e,OpenedCard.changedCardData.iconName=e,""===e&&(OpenedCard.cardIconInput.innerText="add")}static openNavMenu(e){OpenedCard.navMenusEls[OpenedCard.currentNavMenuIndex].style.display="none",OpenedCard.currentNavMenu=OpenedCard.navMenusEls[e],OpenedCard.currentNavMenu.style.display="block",this.currentNavMenuIndex=e}static registerNavMenuOnClicks(){const e=document.querySelectorAll(".c-edited-card__navbar__item");for(let t=0;t<e.length;t++){e[t].addEventListener("click",(()=>{OpenedCard.openNavMenu(t)}))}}static registerIconsOnClicks(){const e=document.getElementById("c-icons-to-pick");for(const t of e.children)"close"!==t.innerText?t.addEventListener("click",(()=>{OpenedCard.setNewCardIcon(t.innerText),OpenedCard.toggleIconDropdown()})):e.children[0].addEventListener("click",(()=>{OpenedCard.setNewCardIcon(""),OpenedCard.toggleIconDropdown()}))}}class Task{constructor(e,t=!1,d=null){this.completed=t,this.description=e,this.deadline=d}setComplete=()=>this.completed=!0;setIncomplete=()=>this.completed=!1;assignDeadline=e=>this.deadline=e}class TaskList{constructor(e=[]){this.tasks=e}getCompletedTasksRatio(){return`${this.tasks.reduce(((e,t)=>e+t?1:0))}/${this.tasks.length}`}addTask(e){this.tasks.append(e)}removeTask(e){this.tasks.splice(e,e)}}class TodoCard{static todoCardTemplate='\n    <div class="c-todo-card todo-card-box">\n      <div class="c-todo-card__labels"></div>\n      <div class="c-todo-card__content">\n        <span class="material-icons c-card-content__icon"></span>\n        <h1 class="c-card-content__title">\n          <input type="text" class="c-card-content__title-input">\n        </h1>\n      </div>\n      <div class="c-todo-card__footer">\n        <div class="c-card-info-icons"></div>\n        <div class="c-card-members"></div>\n      </div>\n    </div>';constructor(e,t){this.parentTodo=t,this.element=e,this.titleInput=e.querySelector(".c-card-content__title-input"),this.cardTitleElement=this.element.querySelector(".c-card-content__title"),this.cardIconElement=this.element.querySelector(".c-card-content__icon"),this.infoIconsElement=this.element.querySelector(".c-card-info-icons"),this.data={iconName:"",title:"",labels:[],scheduledDate:"",members:[],description:"",taskList:new TaskList},this.titleInput.focus(),this.titleInput.addEventListener("focusout",(()=>{this.onTitleInputFocusout()})),this.titleInput.addEventListener("keyup",(e=>{e.preventDefault(),13!==e.keyCode&&27!==e.keyCode||this.titleInput.blur()}))}onTitleInputFocusout(){if(""===this.titleInput.value||null==this.titleInput.value){let e=this.parentTodo.todoCards.indexOf(this);this.parentTodo.removeCard(e)}this.data.title=this.titleInput.value,this.cardTitleElement.innerText=this.titleInput.value,this.titleInput.remove(),this.element.addEventListener("click",(()=>{OpenedCard.openCard(this)}))}reloadCard(){this.cardTitleElement.innerText=this.data.title,this.reloadCardIcon(),this.reloadCardInfoIcons()}reloadCardIcon(){this.cardIconElement.innerText=this.data.iconName}reloadCardInfoIcons(){this.infoIconsElement.innerHTML="",""!=this.data.description&&this.infoIconsElement.insertAdjacentHTML("afterbegin",CardInfoIcons.description)}changeCardIcon(){}addCardMember(){}removeCardMember(){}}class TodoList{static todoListTemplate='\n    <div class="todo-list">\n      <input class="todo-list__title"placeholder="Todo Title"></input>\n      <div class="add-card button button--big">\n        <span class="inline-icon  material-icons">add</span>\n        Add Card\n      </div>\n    </div>';constructor(e){this.element=e,this.todoCards=[],this.title="",this.titleInput=e.querySelector(".todo-list__title"),this.addCardButton=e.querySelector(".add-card"),this.titleInput.focus(),this.addCardButton.addEventListener("click",(()=>{this.addEmptyCard()}))}addEmptyCard(){this.addCardButton.insertAdjacentHTML("beforebegin",TodoCard.todoCardTemplate);let e=this.element.querySelectorAll(".c-todo-card");this.todoCards.push(new TodoCard(e[e.length-1],this))}removeCard(e){this.todoCards[e].element.remove(),this.todoCards.splice(e,1)}saveCardChanges(){}}class Todos{static todosContainer=document.querySelector(".todos-container");static todosList=[];static addEmptyTodoList(e){e.insertAdjacentHTML("beforebegin",TodoList.todoListTemplate);let t=document.querySelectorAll(".todo-list");this.todosList.push(new TodoList(t[t.length-2]))}}OpenedCard.registerListeners(),OpenedCard.registerIconsOnClicks(),OpenedCard.registerNavMenuOnClicks();const darkenBackground=document.querySelector(".darken-background");darkenBackground.addEventListener("click",OpenedCard.closeCard);const closeOpenedCardButton=document.getElementById("c-edited-card__close-card");closeOpenedCardButton.addEventListener("click",OpenedCard.closeCard);const saveCardChangesButton=document.getElementById("save-card-changes");saveCardChangesButton.addEventListener("click",OpenedCard.saveChanges);const cancelCardEditingButton=document.getElementById("cancel-card-editing");cancelCardEditingButton.addEventListener("click",OpenedCard.closeCard);const removeCardButton=document.getElementById("c-edited-card__remove-card");removeCardButton.addEventListener("click",OpenedCard.removeCurrentCard);const openedCardIcon=document.getElementById("c-edited-card__input-icon");openedCardIcon.addEventListener("click",OpenedCard.toggleIconDropdown);const addTodoButton=document.getElementById("add-todo");addTodoButton.addEventListener("click",(()=>{Todos.addEmptyTodoList(addTodoButton)}));
//# sourceMappingURL=all.js.map
